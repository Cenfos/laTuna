---
import Layout from '../layouts/Layout.astro';
import PostCard from '../components/PostCard.astro';

// En un proyecto real, obtendrías esta información de tu CMS o sistema de archivos
const posts = [
  {
    title: 'Introducción a la Permacultura',
    date: '2023-06-01',
    slug: 'introduccion-permacultura',
    excerpt: 'Descubre los principios básicos de la permacultura y cómo aplicarlos en tu vida diaria.',
    image: '/images/intro-permacultura.jpg',
    category: 'Permacultura'
  },
  {
    title: 'Diseño de Huertos Urbanos',
    date: '2023-06-15',
    slug: 'diseno-huertos-urbanos',
    excerpt: 'Aprende a diseñar y mantener un huerto urbano productivo y sostenible.',
    image: '/images/huerto-urbano.jpg',
    category: 'Huertos'
  },
  {
    title: 'Sistemas de Captación de Agua',
    date: '2023-07-01',
    slug: 'sistemas-captacion-agua',
    excerpt: 'Explora diferentes métodos para captar y aprovechar el agua de lluvia en tu hogar o huerto.',
    image: '/images/captacion-agua.jpg',
    category: 'Sostenibilidad'
  },
  {
    title: 'Compostaje Doméstico',
    date: '2023-07-15',
    slug: 'compostaje-domestico',
    excerpt: 'Descubre cómo crear tu propio compost y reducir tus residuos orgánicos.',
    image: '/images/compostaje.jpg',
    category: 'Sostenibilidad'
  },
  {
    title: 'Plantas Compañeras',
    date: '2023-08-01',
    slug: 'plantas-companeras',
    excerpt: 'Aprende sobre las asociaciones beneficiosas entre plantas y cómo aplicarlas en tu huerto.',
    image: '/images/plantas-companeras.jpg',
    category: 'Huertos'
  }
];

const recentPosts = posts.slice(0, 5);
const categories = [...new Set(posts.map(post => post.category))];
---

<Layout title="Blog de Permacultura">
  <h1>Bienvenido al Blog de Permacultura</h1>
  <p class="intro">Explora nuestros artículos sobre permacultura, sostenibilidad y vida en armonía con la naturaleza.</p>
  
  <nav class="categories">
    <h2>Categorías:</h2>
    <ul>
      {categories.map(category => (
        <li><a href={`/category/${category.toLowerCase()}`}>{category}</a></li>
      ))}
    </ul>
  </nav>
  
  <section class="recent-posts">
    {recentPosts.map(post => (
      <PostCard
        title={post.title}
        date={post.date}
        slug={post.slug}
        excerpt={post.excerpt}
        image={post.image}
        category={post.category}
      />
    ))}
  </section>

  <div class="view-all-container">
    <a href="/posts" class="view-all-button">Ver todos los posts</a>
  </div>
</Layout>

<style>
  h1 {
    font-size: 2.5rem;
    color: var(--color-primary);
    margin-bottom: 1rem;
  }

  .intro {
    font-size: 1.2rem;
    color: var(--color-text);
    margin-bottom: 2rem;
  }

  .categories {
    margin-bottom: 2rem;
  }

  .categories h2 {
    font-size: 1.5rem;
    color: var(--color-primary);
    margin-bottom: 0.5rem;
  }

  .categories ul {
    list-style: none;
    padding: 0;
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
  }

  .categories li a {
    display: inline-block;
    padding: 0.5rem 1rem;
    background-color: var(--color-secondary);
    color: var(--color-text-light);
    text-decoration: none;
    border-radius: 4px;
    transition: background-color 0.3s ease;
  }

  .categories li a:hover {
    background-color: var(--color-primary);
  }

  .recent-posts {
    display: grid;
    gap: 2rem;
    margin-bottom: 2rem;
  }

  .view-all-container {
    text-align: center;
    margin-top: 2rem;
  }

  .view-all-button {
    display: inline-block;
    background-color: var(--color-primary);
    color: var(--color-text-light);
    padding: 0.8rem 1.5rem;
    border-radius: 4px;
    text-decoration: none;
    font-weight: bold;
    transition: background-color 0.3s ease;
  }

  .view-all-button:hover {
    background-color: var(--color-accent);
  }

  @media (max-width: 768px) {
    h1 {
      font-size: 2rem;
    }

    .intro {
      font-size: 1rem;
    }
  }
</style>