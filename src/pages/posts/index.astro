---
import Layout from '../../layouts/Layout.astro';
import PostCard from '../../components/PostCard.astro';
import { getCollection } from 'astro:content';

// Obtener todos los posts
const posts = await getCollection('posts');


---

<Layout title="Todos los Posts - Blog de Permacultura">
	<h1>Todos los Posts</h1>

	<section>
		{posts.map((post) => (
			<PostCard
				title={post.data.title}
				date={post.data.date}
				slug={post.slug}
				excerpt={post.data.excerpt}
				image={post.data.image}
				category={post.data.category}
			/>
		))}
	</section>
</Layout>



<style>
	h1 {
		font-size: 2.5rem;
		color: #2c3e50;
		margin-bottom: 2rem;
		text-align: center;
	}

	.posts-grid {
		display: grid;
		gap: 2rem;
		grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
	}

	@media (max-width: 768px) {
		h1 {
			font-size: 2rem;
		}
	}
</style>

