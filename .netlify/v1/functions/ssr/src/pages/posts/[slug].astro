---
import Layout from '../../layouts/Layout.astro';

const { slug } = Astro.params;
const post = await Astro.glob('../../content/posts/*.md').then((posts) =>
  posts.find((p) => p.frontmatter.slug === slug)
);

// Verificamos si se encontr√≥ el post
if (!post) {
  throw new Error('Post no encontrado');
}

const { title, date, content, image, category } = post.frontmatter;
---

<Layout title={title}>
  <article>
    <header>
      <h1>{title}</h1>
      <p>{date}</p>
      <img src={image} alt={title} />
    </header>
    <section>
      <p>{content}</p>
    </section>
  </article>
</Layout>
